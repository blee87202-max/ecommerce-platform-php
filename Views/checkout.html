<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐ณ ุฅุชูุงู ุงูุดุฑุงุก</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap">
    <link rel="stylesheet" href="../Assets/css/checkout.css">
</head>
<body>
    <!-- Container -->
    <div class="checkout-wrapper">
        <!-- Header -->
        <header class="checkout-header">
            <h1>๐ณ ุฅุชูุงู ุงูุทูุจ</h1>
            <div class="user-info" id="user-info">
                <!-- ุณูุชู ุชุนุจุฆุชู ุจูุงุณุทุฉ JavaScript -->
            </div>
        </header>

        <!-- Main Content -->
        <main class="checkout-main">
            <!-- Loading State -->
            <div class="loading-section" id="loading-section">
                <div class="spinner-container">
                    <div class="spinner"></div>
                    <p>ุฌุงุฑู ุชุญููู ุจูุงูุงุช ุงูุทูุจ...</p>
                </div>
            </div>

            <!-- Error State -->
            <div class="error-section" id="error-section" style="display: none;">
                <div class="error-content">
                    <span class="error-icon">โ๏ธ</span>
                    <h3>ุญุฏุซ ุฎุทุฃ</h3>
                    <p id="error-message"></p>
                    <button class="retry-btn" onclick="CheckoutUI.retryLoading()">ุฅุนุงุฏุฉ ุงููุญุงููุฉ</button>
                </div>
            </div>

            <!-- Checkout Form -->
            <div class="checkout-content" id="checkout-content" style="display: none;">
                <!-- Customer Information -->
                <section class="customer-info-section">
                    <h2>ูุนูููุงุช ุงูุนููู</h2>
                    <form id="checkout-form">
                        <div class="form-group">
                            <label for="customer-name">ุงูุงุณู ุงููุงูู:</label>
                            <input type="text" id="customer-name" name="customer_name" required>
                            <div class="error-message" id="name-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="phone">ุฑูู ุงููุงุชู:</label>
                            <input type="tel" id="phone" name="phone" required>
                            <div class="error-message" id="phone-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="address">ุงูุนููุงู:</label>
                            <textarea id="address" name="address" rows="3" required></textarea>
                            <div class="error-message" id="address-error"></div>
                        </div>
                    </form>
                </section>

                <!-- Order Summary -->
                <section class="order-summary-section">
                    <h2>ููุฎุต ุงูุทูุจ</h2>
                    <div class="order-items" id="order-items">
                        <!-- ุณูุชู ุชุนุจุฆุชู ุจูุงุณุทุฉ JavaScript -->
                    </div>
                    <div class="order-totals">
                        <div class="total-row">
                            <span>ุงููุฌููุน ุงูุฌุฒุฆู:</span>
                            <span id="subtotal">0.00 ุฌ.ู</span>
                        </div>
                        <div class="total-row">
                            <span>ุงูุชูุตูู:</span>
                            <span id="shipping">0.00 ุฌ.ู</span>
                        </div>
                        <div class="total-row grand-total">
                            <span>ุงูุฅุฌูุงูู ุงูููู:</span>
                            <span id="grand-total">0.00 ุฌ.ู</span>
                        </div>
                    </div>
                </section>

                <!-- Payment Methods -->
                <section class="payment-methods-section">
                    <h2>ุทุฑู ุงูุฏูุน</h2>
                    <div class="payment-methods">
                        <div class="payment-option">
                            <input type="radio" id="payment-card" name="payment_method" value="card" checked>
                            <label for="payment-card">
                                <span class="payment-icon">๐ณ</span>
                                <span class="payment-text">ุจุทุงูุฉ ุงุฆุชูุงู</span>
                                <span class="payment-desc">ููุฒุง / ูุงุณุชุฑูุงุฑุฏ</span>
                            </label>
                        </div>

                        <div class="payment-option">
                            <input type="radio" id="payment-paypal" name="payment_method" value="paypal">
                            <label for="payment-paypal">
                                <span class="payment-icon">๐ฐ</span>
                                <span class="payment-text">PayPal</span>
                                <span class="payment-desc">ุฏูุน ุขูู ุนุจุฑ PayPal</span>
                            </label>
                        </div>

                        <div class="payment-option">
                            <input type="radio" id="payment-wallet" name="payment_method" value="wallet">
                            <label for="payment-wallet">
                                <span class="payment-icon">๐ฑ</span>
                                <span class="payment-text">ูุญูุธุฉ ุฅููุชุฑูููุฉ</span>
                                <span class="payment-desc">ุฏูุน ุนุจุฑ ุงููุญูุธุฉ</span>
                            </label>
                        </div>

                        <div class="payment-option">
                            <input type="radio" id="payment-cod" name="payment_method" value="cod">
                            <label for="payment-cod">
                                <span class="payment-icon">๐ฆ</span>
                                <span class="payment-text">ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู</span>
                                <span class="payment-desc">(COD)</span>
                            </label>
                        </div>
                    </div>

                    <!-- Wallet Provider Selection -->
                    <div class="wallet-providers" id="wallet-providers" style="display: none;">
                        <h3>ุงุฎุชุฑ ูุฒูุฏ ุงููุญูุธุฉ:</h3>
                        <div class="provider-options">
                            <div class="provider-option">
                                <input type="radio" id="provider-vodafone" name="wallet_provider" value="vodafone_cash">
                                <label for="provider-vodafone">
                                    <span class="provider-icon">๐ต</span>
                                    Vodafone Cash
                                </label>
                            </div>
                            <div class="provider-option">
                                <input type="radio" id="provider-orange" name="wallet_provider" value="orange_money">
                                <label for="provider-orange">
                                    <span class="provider-icon">๐</span>
                                    Orange Money
                                </label>
                            </div>
                            <div class="provider-option">
                                <input type="radio" id="provider-etisalat" name="wallet_provider" value="etisalat_cash">
                                <label for="provider-etisalat">
                                    <span class="provider-icon">๐ฃ</span>
                                    Etisalat Cash
                                </label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Actions -->
                <div class="checkout-actions">
                    <button type="button" class="continue-shopping-btn" onclick="window.location.href='Home.php'">
                        ๐๏ธ ูุชุงุจุนุฉ ุงูุชุณูู
                    </button>
                    <button type="button" class="confirm-order-btn" id="confirm-order-btn" disabled>
                        ๐ณ ุชุฃููุฏ ุงูุทูุจ
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="checkout-footer">
            <p>๐ ุนูููุฉ ุฏูุน ุขููุฉ ููุดูุฑุฉ</p>
            <p class="help-text">ููุงุณุชูุณุงุฑุงุช: <a href="tel:0123456789">0123456789</a></p>
        </footer>
    </div>

    <!-- Credit Card Modal -->
    <div class="modal-overlay" id="credit-card-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>๐ณ ุชูุงุตูู ุจุทุงูุฉ ุงูุงุฆุชูุงู</h3>
                <button class="modal-close" onclick="CheckoutUI.hideCreditCardModal()">ร</button>
            </div>
            <div class="modal-body">
                <form id="credit-card-form">
                    <div class="form-group">
                        <label for="card-number">ุฑูู ุงูุจุทุงูุฉ:</label>
                        <div class="card-input-wrapper">
                            <input type="text" id="card-number" name="card_number" 
                                   placeholder="1234 5678 9012 3456" maxlength="19"
                                   oninput="CheckoutUI.formatCardNumber(this)">
                            <span class="card-icon" id="card-type-icon">๐ณ</span>
                        </div>
                        <div class="error-message" id="card-number-error"></div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="card-expiry">ุชุงุฑูุฎ ุงูุงูุชูุงุก:</label>
                            <input type="text" id="card-expiry" name="card_expiry" 
                                   placeholder="MM/YY" maxlength="5"
                                   oninput="CheckoutUI.formatExpiryDate(this)">
                            <div class="error-message" id="card-expiry-error"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="card-cvv">CVV:</label>
                            <div class="cvv-wrapper">
                                <input type="password" id="card-cvv" name="card_cvv" 
                                       placeholder="123" maxlength="4">
                                <button type="button" class="show-cvv-btn" 
                                        onclick="CheckoutUI.toggleCVVVisibility()">๐๏ธ</button>
                            </div>
                            <div class="error-message" id="card-cvv-error"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="cardholder-name">ุงุณู ุญุงูู ุงูุจุทุงูุฉ:</label>
                        <input type="text" id="cardholder-name" name="cardholder_name"
                               placeholder="ููุง ูู ููุชูุจ ุนูู ุงูุจุทุงูุฉ">
                        <div class="error-message" id="cardholder-name-error"></div>
                    </div>
                    
                    <div class="card-security-info">
                        <p>๐ ูุนูููุงุชู ูุญููุฉ ููุดูุฑุฉ. ูุญู ูุง ูุฎุฒู ุชูุงุตูู ุจุทุงูุชู.</p>
                    </div>
                    
                    <div class="modal-actions">
                        <button type="button" class="cancel-btn" 
                                onclick="CheckoutUI.hideCreditCardModal()">ุฅูุบุงุก</button>
                        <button type="submit" class="confirm-btn">ุชุฃููุฏ ุงูุฏูุน</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Order Success Modal -->
    <div class="modal-overlay" id="order-success-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>โ ุชู ุฅูุดุงุก ุงูุทูุจ ุจูุฌุงุญ</h3>
            </div>
            <div class="modal-body">
                <div class="success-content">
                    <div class="success-icon">๐</div>
                    <p id="success-message">ุฌุงุฑู ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ุตูุญุฉ ุชุฃููุฏ ุงูุทูุจ...</p>
                    <div class="order-details" id="success-order-details">
                        <!-- ุณูุชู ุชุนุจุฆุชู ุจูุงุณุทุฉ JavaScript -->
                    </div>
                    <div class="success-actions">
                        <button class="view-order-btn" id="view-order-btn">ุนุฑุถ ุชูุงุตูู ุงูุทูุจ</button>
                        <button class="continue-btn" onclick="window.location.href='Home.php'">ูุชุงุจุนุฉ ุงูุชุณูู</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wallet Confirmation Modal -->
    <div class="modal-overlay" id="wallet-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุชุฃููุฏ ุงูุฏูุน ุจุงููุญูุธุฉ</h3>
                <button class="modal-close" onclick="CheckoutUI.hideWalletModal()">ร</button>
            </div>
            <div class="modal-body">
                <div class="wallet-confirmation">
                    <div class="wallet-amount">
                        <span class="label">ุงููุจูุบ:</span>
                        <span class="value" id="modal-amount">0.00 ุฌ.ู</span>
                    </div>
                    <div class="wallet-provider">
                        <span class="label">ุงููุฒูุฏ:</span>
                        <span class="value" id="modal-provider">Vodafone Cash</span>
                    </div>
                    <div class="form-group">
                        <label for="modal-phone">ุฑูู ุงููุงุชู ุงููุฑุชุจุท ุจุงููุญูุธุฉ:</label>
                        <input type="tel" id="modal-phone" placeholder="01026103523">
                        <div class="error-message" id="modal-phone-error"></div>
                    </div>
                    <div class="modal-actions">
                        <button class="cancel-btn" onclick="CheckoutUI.hideWalletModal()">ุฅูุบุงุก</button>
                        <button class="confirm-btn" id="modal-confirm-btn">ุชุฃููุฏ ุงูุฏูุน</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="../Assets/js/checkout.js"></script>
</body>
</html>